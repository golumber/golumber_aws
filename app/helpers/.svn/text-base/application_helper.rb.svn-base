module ApplicationHelper
  def resource_name
    :employees
  end

  def resource
    @resource ||= Employee.new
  end

  def devise_mapping
    @devise_mapping ||= Devise.mappings[:employee]
  end
  
  def options_from_collection_for_select_with_data(collection, value_method, text_method, selected = nil, data = {})
      options = collection.map do |element|
        [element.send(text_method), element.send(value_method), data.map do |k, v|
          {"data-#{k}" => element.send(v)}
        end
        ].flatten
      end
      selected, disabled = extract_selected_and_disabled(selected)
      select_deselect = {}
      select_deselect[:selected] = extract_values_from_collection(collection, value_method, selected)
      select_deselect[:disabled] = extract_values_from_collection(collection, value_method, disabled)
      options_for_select(options, select_deselect)
    end
end
